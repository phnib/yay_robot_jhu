# ROS terminal
ros-init
roslaunch aloha 4arms_teleop.launch

# Right hand terminal
conda activate aloha
cd-ps
python3 one_side_teleop.py right

# Left hand terminal
conda activate aloha
cd-ps
python3 one_side_teleop.py left

# Sleep terminal
conda activate aloha
cd-ps
python3 sleep.py

# Collect mutliple episodes 
launch
python3 src/aloha_pro/aloha_scripts/record_episodes.py --task_name aloha_bag_audio --num_episodes 2

# Visualize episode
python3 src/aloha_pro/aloha_scripts/visualize_episodes.py --dataset_dir /iris/u/lucyshi/language-dagger/data/act/aloha_bag_audio --episode_idx 0 --visualize_option --merge_audio --transcribe

# Replay episode
conda activate aloha
cd-ps
python3 replay_episodes.py --dataset_dir /scr2/tonyzhao/datasets/aloha_bag_audio --episode_idx 0

# Train
launcha
python imitate_episodes.py \
--task_name aloha_bag \
--ckpt_dir /scr2/tonyzhao/train_logs/aloha_bag \
--policy_class ACT --kl_weight 80 --chunk_size 100 --hidden_dim 512 --batch_size 8 --dim_feedforward 3200 \
--num_epochs 10000  --lr 1e-5 \
--seed 0 --eval --temporal_agg

# Copy ckpt
scp -rp lucyshi@iris-ws-14:/iris/u/lucyshi/language-dagger/data/act_ckpt/aloha_bag/policy_epoch_4300_seed_0.ckpt /scr2/tonyzhao/train_logs/aloha_bag

# data source on iris-robot-ws-1
/src/tonyzhao/datasets/aloha_bag_audio